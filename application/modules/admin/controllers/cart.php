<?phpclass cart extends MY_Controller{	public function __construct(){		parent::__construct();        $this->_data['now'] = 'Danh Mục ';        $this->load->model('mcart');        $this->load->model('mdetail');        $this->load->model('mattribute');        $user = $this->session->userdata('user');        if(!$user || $user['user_type'] != 'administrator'){            if($user['user_type']!='nhanvien' || !strpos($_SERVER['REQUEST_URI'],'admin/product/phieubanhang')){                redirect(base_url()."admin/product/phieubanhang");                }                        }        $this->form_validation->CI =& $this;	}	public function listall(){        if(!isset($_GET['per_page'])){            $start = 0 ;        }else{            $start=$_GET['per_page'];        }        if(!isset($_GET['s'])){            $s = '' ;            $show ='';        }else{            $show=$_GET['s'];            $s=str_replace('ord-','',strtolower($show));        }		$this->load->library('pagination');		$config['base_url'] = base_url().'admin/cart/listall?s='.$show;		//config phân trang		$config['total_rows'] = $this->mcart->numRows($s);		$config['per_page'] =8;		$config['uri_segment'] = 4;		$config['cur_tag_open'] = "<li><a><font color='black'>";		$config['cur_tag_close'] = '</font></a></li>';		$config['num_tag_open'] = '<li>';		$config['num_tag_close'] = '</li>';		$config['prev_link'] = 'Prev';		$config['prev_tag_open'] = '<li>';		$config['prev_tag_close'] = '</li>';		$config['next_link'] = 'Next';		$config['next_tag_open'] = '<li>';		$config['next_tag_close'] = '</li>';		$config['first_tag_open'] = '<li>';		$config['first_tag_close'] = '</li>';		$config['last_tag_open'] = '<li>';		$config['last_tag_close'] = '</li>';		$this->pagination->initialize($config);		$this->_data['pagination']=$this->pagination->create_links();		$this->_data['template'] = 'admin/cart/list_view';		$this->_data['title'] = 'Trang Quản Lý Danh Mục ';		$this->_data['s'] = $show;		$this->_data['info'] = $this->mcart->listAll($config['per_page'],$start,$s);		$this->load->view("layout/admin",$this->_data);	}	public function detail($id){        $this->load->model('muser');        $this->load->model('mproduct');        $this->_data['template'] = 'admin/cart/detail_view';        $this->_data['title'] = 'Trang Quản Lý Danh Mục ';        $this->_data['info'] = $this->mcart->getById($id);        $this->_data['detail'] = $this->mcart->getById2($id);        $this->load->view("layout/admin",$this->_data);    }	public function del($id){		$this->mcart->del($id);		$this->session->set_flashdata('ses_flash',"Xóa");		redirect(base_url()."admin/cart/listall");	}    public function changeStatus(){        $id = $_POST['id'];        $data = $_POST['data'];        $arr = array(            'status' => $data        );         $this->mcart->editById($id,$arr);    }}