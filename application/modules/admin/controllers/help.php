<?phpclass help extends MY_Controller{	public function __construct(){		parent::__construct();        $this->_data['now'] = 'Help';        $this->load->model('mhelp');        $user = $this->session->userdata('user');        if(!$user || $user['user_type'] != 'administrator'){            if($user['user_type']=='nhanvien'){                redirect(base_url()."admin/phieubanhang/listall");                }            else                redirect(base_url()."admin/login");        }        $this->form_validation->CI =& $this;        //--------	}	public function listall(){		$this->_data['template'] = 'admin/help/list_view';		$this->_data['title'] = 'Trang Quản Lý Danh Mục ';		$this->_data['info'] = $this->mhelp->listAll();		$this->load->view("layout/admin",$this->_data);	}	public function add(){        $this->_data['action'] = strtolower(__FUNCTION__);		if(isset($_POST['ok'])){            $this->form_validation->set_rules("title","Tiêu Đề","required");            $this->form_validation->set_rules("desc","Giới Thiệu","trim|required");            $this->form_validation->set_rules("content","Nội Dung","trim|required");            if($this->form_validation->run()==TRUE){                $arr = array(                    'title' => $this->input->post('title'),                    'desc' => $this->input->post('desc'),                    'content' => $this->input->post('content'),                );				$this->mhelp->add($arr);				$this->session->set_flashdata('ses_flash',"Thêm");				redirect(base_url()."admin/help/listall");			}		}		$this->_data['template'] = 'admin/help/modify_view';		$this->_data['title'] = 'Trang Thêm Thực Đơn ';		$this->load->view("layout/admin",$this->_data);	}	public function del($id){		$this->mhelp->del($id);		$this->session->set_flashdata('ses_flash',"Xóa");		redirect(base_url()."admin/help/listall");	}    public function view($id){        $this->_data['info'] = $this->mhelp->getById($id);        $this->_data['template'] = 'admin/help/view';        $this->_data['title'] = 'Trang Sửa User ';        $this->load->view("layout/admin",$this->_data);    }	public function edit($id){        $this->_data['action'] = strtolower(__FUNCTION__);		if(isset($_POST['ok'])){            $this->form_validation->set_rules("title","Tiêu Đề","required");            $this->form_validation->set_rules("desc","Giới Thiệu","trim|required");            $this->form_validation->set_rules("content","Nội Dung","trim|required");            if($this->form_validation->run()==TRUE){                    $arr = array(                        'title' => $this->input->post('title'),                        'desc' => $this->input->post('desc'),                        'content' => $this->input->post('content'),                    );                				$this->mhelp->editById($id,$arr);				$this->session->set_flashdata('ses_flash',"Sửa");				redirect(base_url()."admin/help/listall");			}		}		$this->_data['info'] = $this->mhelp->getById($id);		$this->_data['template'] = 'admin/help/modify_view';		$this->_data['title'] = 'Trang Sửa User ';		$this->load->view("layout/admin",$this->_data);	}}